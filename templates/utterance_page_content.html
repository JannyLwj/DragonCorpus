<div class="page-content">

			<!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->

			<div id="portlet-config" class="modal hide">

				<div class="modal-header">

					<button data-dismiss="modal" class="close" type="button"></button>

					<h3>portlet Settings</h3>

				</div>

				<div class="modal-body">

					<p>Here will be a configuration form</p>

				</div>

			</div>

			<!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->

			<!-- BEGIN PAGE CONTAINER-->

			<div class="container-fluid">

				<!-- BEGIN PAGE HEADER-->

				<div class="row-fluid">

					<div class="span12">

						<!-- BEGIN STYLE CUSTOMIZER -->

						{% include 'base/theme.html' %}

						<!-- END BEGIN STYLE CUSTOMIZER -->

						<!-- BEGIN PAGE TITLE & BREADCRUMB-->

						<h3 class="page-title">

							Utterance <small></small>

						</h3>

						<ul class="breadcrumb">

							<li>

								<i class="icon-home"></i>

								<a href="index.html">Home</a>

								<i class="icon-angle-right"></i>

							</li>

							<li>

								<a href="#">Utterance</a>

								<i class="icon-angle-right"></i>

							</li>

							<li><a href="#">Utterance overview</a></li>

						</ul>

						<!-- END PAGE TITLE & BREADCRUMB-->

					</div>

				</div>

				<!-- END PAGE HEADER-->

				<!-- BEGIN PAGE CONTENT-->

				<div class="row-fluid">

					<div class="span10">

						<!-- BEGIN EXAMPLE TABLE PORTLET-->

						<div class="portlet box blue">

							<div class="portlet-title">

								<div class="caption"><i class="icon-edit"></i>Utterance</div>

								<div class="tools">

									<a href="javascript:;" class="collapse"></a>

									<a href="#portlet-config" data-toggle="modal" class="config"></a>

									<a href="javascript:;" class="reload"></a>

									<a href="javascript:;" class="remove"></a>

								</div>

							</div>

							<div class="portlet-body">

								<div class="clearfix">

									<div class="btn-group">

										<button id="sample_editable_intent_new" class="btn green">

										Add New <i class="icon-plus"></i>

										</button>

									</div>


								</div>
								<div class="clearfix">

								<table class="table table-condensed" style="word-break:break-all; word-wrap:break-all" id="table" data-show-toggle="false" data-locale="en-US" data-minimum-count-columns="2"
								data-id-field="id" data-show-footer="false" data-side-pagination="client" data-response-handler="responseHandler" data-row-style="rowStyle"
								data-detail-view="false" data-detail-formatter="detailFormatter" data-toolbar="#toolbar"
								data-url={% url 'management:utterance_table' %}>

								</table>

								<div class="clearfix">

								</div>

							</div>

							</div>

						</div>

						<!-- END EXAMPLE TABLE PORTLET-->

					</div>

				    <div class="span2">
						<!-- BEGIN EXAMPLE TABLE PORTLET-->
						<div class="portlet box blue">
							<div class="portlet-title">
								<div class="caption"><i class="icon-edit"></i>Filter</div>
							</div>
							<div class="portlet-body">
								 <div class="control-group">
									<label class="control-label">Project</label>
									<div class="controls">
										<select data-placeholder="Project" id="project_selecter" class="chosen span6" multiple="multiple" tabindex="6" data-ajax--cache="true">

											<option value="">project</option>

										</select>
									</div>
								</div>
								 <div class="control-group">
									<label class="control-label">Dialog</label>
									<div class="controls">
										<select data-placeholder="Dialog" id="dialog_selecter" class="chosen span6" multiple="multiple" tabindex="6" data-ajax--cache="true">
											<option value="">dialog</option>
										</select>
									</div>
								</div>
								 <div class="control-group">
									<label class="control-label">Source</label>
									<div class="controls">
										<select data-placeholder="Source" id="source_selecter" class="chosen span6" multiple="multiple" tabindex="6" data-ajax--cache="true">
											<option value="">source</option>
										</select>
									</div>
								</div>
								 <div class="control-group">
									<label style="width:75%" for="start_date_selecter">Create Date
										<input type="date" class="form-control" id="start_date_selecter">
									</label>
								</div>
								<div class="control-group">
									<label style="width:75%" for="end_date_selecter">Modify Date
										<input type="date" class="form-control" id="end_date_selecter">
									</label>
								</div>
								<div class="control-group">
									<button class="btn green" id="search_button">Search</button>
								</div>
							</div>
						</div>
					</div>

				</div>

				<!-- END PAGE CONTENT -->

			</div>

			<!-- END PAGE CONTAINER-->

</div>


<script src="/static/media/js/jquery-1.10.1.min.js" type="text/javascript"></script>
<script src="/static/bootstrap-table/bootstrap-table.js"></script>
<link href="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap-editable/css/bootstrap-editable.css" rel="stylesheet"/>
<script src="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap-editable/js/bootstrap-editable.js"></script>
<script src="/static/bootstrap-table/extensions/bootstrap-table-editable.js"></script>

<script>
    jQuery(document).ready(function () {
        initTable();

    });

    var $table = $('#table'),
        selections = [];

    $button = $('#button');

    $(function () {
         $button.click(function () {
             $table.bootstrapTable('insertRow', {
                 index: 0,
                 row: {
                     utterance: '',
                     audio: '',
                     domain: '',
                     intent:'',
                     slotnames: '',
                     slotvalues: '',
                 }
             });
         });
     });

    function initTable() {
        $table.bootstrapTable({
            height: getHeight(),
            pagination: true,
			pageNumber: 1,
			pageSize: 25,
			pageList: [10, 25, 50, 100],
			search: true,
			sortable: true,
            sortOrder: "asc",
			<!--strictSearch: true,-->
			<!--showPaginationSwitch:true,-->
            columns: [
                [{
                    checkbox: true,
                    visible: true
                }, {
                        title: 'utterance',
                        field: 'utterance',
                        align: 'center',
                        valign: 'middle',
                        sortable: false,
                        width: '30%'
                    },
                    {
                        title: 'dialog',
                        field: 'dialog',
                        align: 'center',
                        valign: 'middle',
                        sortable: false,
                        width: '10%'
                    },
                    {
                        title: 'source',
                        field: 'source',
                        align: 'center',
                        valign: 'middle',
                        sortable: false,
                        width: '10%'
                    },
                    {
                        title: 'priority',
                        field: 'priority',
                        align: 'center',
                        valign: 'middle',
                        sortable: false,
                        width: '5%'
                    },
                    {
                        title: 'project',
                        field: 'project',
                        align: 'center',
                        valign: 'middle',
                        sortable: false,
                        width: '40%'
                    }
                ],
            ]
        });
        // sometimes footer render error.
        setTimeout(function () {
            $table.bootstrapTable('resetView');
        }, 200);
        $(window).resize(function () {
            $table.bootstrapTable('resetView', {
                height: getHeight()
            });
        });
    }

    function responseHandler(res) {
        return res;
    }

    function getHeight() {
        return $(window).height() - 200;
    }

    function totalTextFormatter(data) {
        return 'Total';
    }

    function totalNameFormatter(data) {
        return data.length;
    }

    function rowStyle(row, index) {
        var classes = ['active', 'success', 'info', 'warning', 'danger'];
        if (index % 2 === 0) {
            return {
                classes: classes[index % 2]
            };
        }
        return {};
    }

    function cellStyle(value, row, index, field) {
        return {
            css: {
                "word-break": "break-all",
                "word-wrap": "break-all",
                "font-size": "10px"
            }
        };
    }

    function detailFormatter(index, row) {
        var html = [];
        $.each(row, function (key, value) {
            html.push('<p>' + value + '</p>');
        });
        return html.join('');
    }
    window.operateEvents = {
        'click .like': function (e, value, row, index) {
            alert('You click like action, row: ' + JSON.stringify(row));
        }
    };

    function operateFormatter(value, row, index) {
        var work_set_id = row.work_set_id;
        return [
            '<a class="btn btn-success ',
            '"href="/annotation_review/show_detail_report/',
            work_set_id,
            '/">Detail',
            '</a>'
        ].join('');
    }

</script>